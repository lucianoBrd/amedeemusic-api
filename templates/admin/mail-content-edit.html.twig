{% extends '@EasyAdmin/page/content.html.twig' %}

{% block main %}
{{ form_start(form) }}
{{ form_row(form.title) }}
{{ form_row(form.titleBold) }}
{{ form_row(form.color) }}

<fieldset class="mb-3">
    <legend class="col-form-label">Texts</legend>
    <ul class="texts collection"
        data-index="{{ form.texts|length > 0 ? form.texts|last.vars.name + 1 : 0 }}"
        data-prototype="{{ form_widget(form.texts.vars.prototype)|e('html_attr') }}"
    >
        {% for text in form.texts %}
        <li>
            <div>
                <div class="mb-3">
                    {{ form_row(text) }}
                    {% if text.vars.data.image|default and (text.vars.data.image.image|default or text.vars.data.image.absolutePath|default) %}
                    {% if text.vars.data.image.absolutePath %}
                    <img src="{{ text.vars.data.image.absolutePath }}">
                    {% else %}
                    <img src="{{ imagesPath }}/{{ text.vars.data.image.image }}">
                    {% endif %}
                    {% endif %}
                </div>
            </div>
        </li>
        {% endfor %}
    </ul>
    <button type="button" class="add_item_link btn btn-outline-primary btn" data-collection-holder-class="texts">+ Add a text</button>
</fieldset>

{{ form_row(form.save) }}
{{ form_end(form) }}
{% endblock %}
{% block body_javascript %}
{{ parent() }}
<script type="text/javascript" src="/assets/js/collection.js"></script>
{% endblock body_javascript %}