{# @var ea \EasyCorp\Bundle\EasyAdminBundle\Context\AdminContext #}
{# @var field \EasyCorp\Bundle\EasyAdminBundle\Dto\FieldDto #}
{# @var entity \EasyCorp\Bundle\EasyAdminBundle\Dto\EntityDto #}
{% set path = field.formattedValue %}
{% set type = fileService.getType(field.value) %}


{% set html_id = 'ea-lightbox-' ~ field.uniqueId %}
<a href="#" class="ea-lightbox-thumbnail" data-ea-lightbox-content-selector="#{{ html_id }}">
    {% if type == 'image' %}
    <img src="{{ asset(path) }}" class="img-fluid">
    {% else %}
    <i aria-hidden="true" class="fa-solid fa-play img-fluid"></i>
    {% endif %}
</a>

<div id="{{ html_id }}" class="ea-lightbox">
    {% if type == 'image' %}
    <img src="{{ asset(path) }}">
    {% else %}
    <video controls="controls" preload="metadata">
        <source src="{{ asset(path) }}" type="{{ fileService.getMimeType(field.value) }}">
    </video>
    {% endif %}
</div>
